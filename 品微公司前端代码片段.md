品微公司前端代码片段
==
###CSS代码
######禁用IOS系统下输入框控件默认样式
```html
-webkit-appearance: none;
```
######启用IOS系统下原生滚动效果
    -webkit-overflow-scrolling: touch;
######禁止元素被选中
    -webkit-user-select: none;-webkit-touch-callout: none;
######禁止图片被选中（App内置webview）
    pointer-events: none;
######文字强制不换行并超出父元素宽度多余字以省略号显示
    overflow: hidden;white-space: nowrap; text-overflow:ellipsis;
######webkit内核浏览器滚动条元素
    ::-webkit-scrollbar{}
###JS代码
######JS打乱数组最高效的方法
```js
var arr=[];
for(var i=0;i<100;i++){
        arr[i]=i;
    }
arr.sort(function(){ return 0.5 - Math.random() })
var str=arr.join();
alert(str);
```
######JS上传图片及时预览
```js
var f = document.getelementbyid('upload').files[0];
var src = window.URL.createObjectURL(f);
document.getElementById('preview').src = src;
```
######禁止移动端页面滚动
```js
//原生js方式
document.body.addEventListener('touchmove', function(event) {
	event.preventDefault();
}, false);
//jQuery方式
$("body").on('touchmove', function(event) {
    event.preventDefault();
});
//如果页面有逻辑需要,先禁止滚动，然后取消禁止滚动，建议用jQuery方式，取消禁止滚动代码如下
$("body").off('touchmove');
```
######阿里云调用wxjsapi方式
```js
$.ajax({
    dataType : 'jsonp',
    url      : "http://slib.sinaapp.com/wxjsapi.php?action=token",
    data     : {"url":window.location.href.split('#')[0]},
    async    : true,
    success  : function (data) {
        var key = data;
        wx.config({
            debug     : false,
            appId     : key.appId,
            timestamp : key.timestamp,
            nonceStr  : key.nonceStr,
            signature : key.signature,
            jsApiList : ['onMenuShareTimeline','onMenuShareAppMessage','onMenuShareQQ','onMenuShareWeibo','startRecord','stopRecord','onVoiceRecordEnd','playVoice','pauseVoice','stopVoice','onVoicePlayEnd','uploadVoice','downloadVoice','chooseImage','previewImage','uploadImage','downloadImage','translateVoice','getNetworkType','openLocation','getLocation','hideOptionMenu','showOptionMenu','hideMenuItems','showMenuItems','hideAllNonBaseMenuItem','showAllNonBaseMenuItem','closeWindow','scanQRCode','chooseWXPay','openProductSpecificView','addCard','chooseCard','openCard']
        });
		wx.ready(function(){
            //do something
	    });
    }
});
```
######新浪云调用wxjsapi方式
```js
$.ajax({
    type    : "post",
    url     : "/wxjs.php?action=token",
    data    : {"url": window.location.href.split('#')[0]},
    async   : true,
    success : function (data) {
        var key = JSON.parse(data);
        wx.config({
            debug     : false,
            appId     : key.appId,
            timestamp : key.timestamp,
            nonceStr  : key.nonceStr,
            signature : key.signature,
            jsApiList : ['onMenuShareTimeline','onMenuShareAppMessage','onMenuShareQQ','onMenuShareWeibo','startRecord','stopRecord','onVoiceRecordEnd','playVoice','pauseVoice','stopVoice','onVoicePlayEnd','uploadVoice','downloadVoice','chooseImage','previewImage','uploadImage','downloadImage','translateVoice','getNetworkType','openLocation','getLocation','hideOptionMenu','showOptionMenu','hideMenuItems','showMenuItems','hideAllNonBaseMenuItem','showAllNonBaseMenuItem','closeWindow','scanQRCode','chooseWXPay','openProductSpecificView','addCard','chooseCard','openCard']
        });
        wx.ready(function(){
            //do something
        });
    }
});
```
######微信推送抓取视频地址程序(单个视频)
```js
//使用方法：用chrome打开推送链接，按F12（windows系统）调出开发者工具，将如下代码复制粘贴到console控制台即可
var url = document.getElementsByTagName("iframe")[0].getAttribute("data-src").split("?")[1];
var reg = new RegExp("(^|&)vid=([^&]*)(&|$)");
var r = url.match(reg);
window.open("http://v.qq.com/page/"+ decodeURIComponent(r[2]) +".html");
```
###HTML代码
######调用微信WebView内置图片查看功能
```html
<!--YourImageURL为全地址-->
<a href="weixin://viewimage/`YourImageURL`">AnyThing</a>
```
######HTML头部标签
```html

```
